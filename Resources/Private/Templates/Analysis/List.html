<f:layout name="Backend" />

<f:section name="content">
    <f:if condition="{allVisitors}">
        <f:then>
            <f:be.widget.paginate objects="{allVisitors}" as="visitors" configuration="{itemsPerPage: 100, insertAbove: 1, insertBelow: 1, maximumNumberOfLinks: 10}">
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                        <tr>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.identification">Identification</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.email">Email</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.visits">Sitevisits</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.tstamp">Last visit</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.crdate">First visit</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.company">Company</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.country">Country</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.city">City</f:translate></th>
                            <th><f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.location">Location</f:translate></th>
                        </tr>
                    </thead>
                    <tbody>
                        <f:for each="{visitors}" as="visitor">
                            <tr>
                                <td><span title="UID{visitor.uid}">{visitor.fullName}</span></td>
                                <td>{visitor.email}</td>
                                <td>{visitor.visits}</td>
                                <td>{f:format.date(date:visitor.tstamp,format:'{f:translate(key:\'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:date\')}')}</td>
                                <td>{f:format.date(date:visitor.crdate,format:'{f:translate(key:\'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:date\')}')}</td>
                                <td>{visitor.company}</td>
                                <td>{visitor.country}</td>
                                <td>{visitor.city}</td>
                                <td>{visitor.location}</td>
                            </tr>
                        </f:for>
                    </tbody>
                </table>
            </f:be.widget.paginate>
        </f:then>
        <f:else>
            <f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:module.analysis.novalues">No values to show</f:translate>
        </f:else>
    </f:if>
</f:section>
