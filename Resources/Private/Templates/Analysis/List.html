<f:layout name="Backend"/>

<f:section name="content">
    <f:if condition="{allVisitors}">
        <f:then>
            <div class="row">
                <div class="col-md-8">
                    <f:render partial="List/Filter" arguments="{_all}"/>

                    <f:be.widget.paginate objects="{allVisitors}" as="visitors"
                                          configuration="{itemsPerPage:100,insertAbove:0,insertBelow:1,maximumNumberOfLinks:10}">
                        <table class="table table-striped table-hover table-condensed">
                            <thead>
                            <tr>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.identification">
                                        Identification
                                    </f:translate>
                                </th>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.score">
                                        Score
                                    </f:translate>
                                </th>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.email">
                                        Email
                                    </f:translate>
                                </th>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.company">
                                        Company
                                    </f:translate>
                                </th>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.tstamp">
                                        Last visit
                                    </f:translate>
                                </th>
                                <th>
                                    <f:translate
                                            key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:tx_lux_domain_model_visitor.visits">
                                        Sitevisits
                                    </f:translate>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <f:for each="{visitors}" as="visitor">
                                <tr>
                                    <td><span title="UID{visitor.uid}">{visitor.fullName}</span></td>
                                    <td>Score (coming soon)</td>
                                    <td>{visitor.email}</td>
                                    <td>{visitor.company}</td>
                                    <td>
                                        {f:format.date(date:visitor.tstamp,format:'{f:translate(key:\'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:date\')}')}
                                    </td>
                                    <td>{visitor.visits}</td>
                                </tr>
                            </f:for>
                            </tbody>
                        </table>
                    </f:be.widget.paginate>
                </div>
                <div class="col-md-4">
                    <f:render partial="List/Pagevisits" arguments="{_all}"/>
                    <f:render partial="List/BestVisitors" arguments="{_all}"/>
                </div>
            </div>
        </f:then>
        <f:else>
            <f:translate key="LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:module.analysis.novalues">No
                values to show
            </f:translate>
        </f:else>
    </f:if>
</f:section>
