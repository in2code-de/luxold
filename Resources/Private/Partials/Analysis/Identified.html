<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">{f:translate(key:'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:module.analysis.identified.0')}</h3>
    </div>
    <div class="panel-body">
        <canvas id="extension-lux-analysis-identified" width="750" height="250" data-chart-data="{numberOfIdentifiedVisitors},{numberOfUnknownVisitors}" data-chart-labels="{f:translate(key:'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:module.analysis.identified.0')},{f:translate(key:'LLL:EXT:lux/Resources/Private/Language/locallang_db.xlf:module.analysis.identified.1')}"></canvas>
        <script>
			require(['/typo3conf/ext/lux/Resources/Public/JavaScripts/Vendor/Chart.min.js'], function (Chart) {
				var container = document.getElementById('extension-lux-analysis-identified');
				var ctx = container.getContext('2d');

				/**
				 * @returns {Array}
				 */
				var getDataChartData = function() {
					var string = container.getAttribute('data-chart-data');
					return string.split(',');
				};

				/**
				 * @returns {Array}
				 */
				var getDataChartLabels = function() {
					var string = container.getAttribute('data-chart-labels');
					return string.split(',');
				};

				var data = {
					datasets: [{
						label: ['abc', 'def'],
						data: getDataChartData(),
						backgroundColor: [
							'rgba(77, 231, 255, 1)',
							'rgba(221, 221, 221, 1)'
						]
					}],
					labels: getDataChartLabels()
				};
				var options = {
					legend: {
						display: false,
						position: 'right',
						labels: {
							fontSize: 18
						}
					},
					scales: {
						yAxes: [{
							ticks: {
								beginAtZero: true
							}
						}]
					}
				};
				new Chart(ctx, {
					type: 'bar',
					data: data,
					options: options
				});
			});
        </script>
    </div>
</div>
