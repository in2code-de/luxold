function LuxMain(){"use strict";var t="luxId",n="";this.initialize=function(){w()&&(e(),m(),r(),i(),u(),a())};var e=function(){n=O()},r=function(){x()&&A(b(),g())},i=function(){for(var t=document.querySelectorAll("input, textarea, select, radio, check"),n=0;n<t.length;n++){var e=t[n];"password"!==e.type&&c(e)&&e.addEventListener("change",function(){l(this)})}},u=function(){for(var t=document.querySelectorAll("[data-lux-email4link-title]"),n=0;n<t.length;n++){var e=t[n];e.addEventListener("click",function(t){o(this,t)})}},a=function(){document.querySelectorAll(".luxlightbox").forEach(function(t){t.onclick=function(n){const e=t.getAttribute("data-src"),r='<img src="'+e+'">';basicLightbox.create(r).show()}})},o=function(t,n){alert("form!"),n.preventDefault()},l=function(t){var n=f(t),e=t.value;A(_(),{"tx_lux_fe[idCookie]":O(),"tx_lux_fe[key]":n,"tx_lux_fe[value]":e})},c=function(t){return""!==f(t)},f=function(t){var n="",e=t.name,r=s();for(var i in r)if(r.hasOwnProperty(i))for(var u=0;u<r[i].length;u++)d(e,r[i][u])&&(n=i);return n},d=function(t,n){if(n.indexOf("*")!==-1){n=n.replace("*","");var e=t.indexOf(n)!==-1}else e=t===n;return e},s=function(){var t={};try{t=JSON.parse(window.luxFieldMappingConfiguration)}catch(n){console.log("Lux: No fieldmapping configuration given.")}return t},g=function(){return{"tx_lux_fe[idCookie]":O(),"tx_lux_fe[pageUid]":v(),"tx_lux_fe[referrer]":h(),"tx_lux_fe[languageUid]":p()}},x=function(){var t=!1,n=y();if(null!==n&&n.hasAttribute("data-lux-pagetracking")){var e=n.getAttribute("data-lux-pagetracking");t="1"===e}return t},v=function(){var t=0,n=y();if(null!==n&&n.hasAttribute("data-lux-pageuid")){var e=n.getAttribute("data-lux-pageuid");t=parseInt(e)}return t},h=function(){return encodeURIComponent(document.referrer)},p=function(){var t=0,n=y();if(null!==n&&n.hasAttribute("data-lux-languageuid")){var e=n.getAttribute("data-lux-languageuid");t=parseInt(e)}return t},m=function(){""===n&&(n=L(32),S(t,n))},b=function(){var t=y();return null!==t?t.getAttribute("data-lux-pagerequesturi"):""},_=function(){var t=y();return null!==t?t.getAttribute("data-lux-fieldlisteninguri"):""},A=function(t,n){if(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===this.readyState&&200===this.status){JSON.parse(this.responseText)}},e.open("POST",k(t,n),!0),e.send()}else console.log("No ajax URI given!")},k=function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t+=t.indexOf("?")!==-1?"&":"?",t+=e+"="+n[e]);return t},w=function(){return null!==y()},y=function(){return document.getElementById("lux_container")},L=function(t){for(var n="",e="abcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},O=function(){return q(t)},S=function(t,n){var e=new Date,r=e.getTime();r+=31536e7,e.setTime(r),document.cookie=t+"="+n+"; expires="+e.toUTCString()+"; path=/"},q=function(t){for(var n=t+"=",e=document.cookie.split(";"),r=0;r<e.length;r++){for(var i=e[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return""}}var Lux=new window.LuxMain;Lux.initialize();